{% extends 'web/base.html' %}
{% block body %}
<label for="id_group">Person Names:</label>
    <select name="group" id="id_group" required size="5">
        {% for choice in mylist %}
            <option value="{{ choice }}">{{ choice }}</option>
        {% endfor %}
    </select>
    <button onclick="updatefield()">Add</button>
    <br \>
<form method="post" action="{% url 'filltransaction' %}">
    {% csrf_token %}
<div>
    <div class="form-group">
         <label for="transname">Transaction Name</label>
         <input type="text" name="transname" class="form-control" required="required">
     </div>
 </div>
 
 <div>
     <div class="form-group">
         <label for="amtspent">amount Spent</label>
         <input type="text" name="amtspent" class="form-control" required="required">
     </div>
 </div>

 <div>
    <div class="form-group">
        <label for="personName">person Names</label>
        <input type="text" name="personName" class="form-control" required="required" id="personName" readonly>
    </div>
</div>
<button type="submit">Submit</button>
</form>


 


<script>
    function updatefield(){
        var dropdown = document.getElementById("id_group");
        var selectedval = dropdown.options[dropdown.selectedIndex].value
        var check = document.getElementById("personName").value;
        if(check !== null && check !== undefined  && check !== "")
        {
            var combined=document.getElementById("personName").value+","+selectedval;
            document.getElementById("personName").value=combined;
        }
        else{
            document.getElementById("personName").value=selectedval;
        }
        dropdown.remove(dropdown.selectedIndex);
    }
</script>

{% endblock %}